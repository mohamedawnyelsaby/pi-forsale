<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Forsale AI - سوق المستقبل</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.piapi.dev/libs/pi-js-sdk/1.0.0/pi-js-sdk.js"></script>
</head>
<body>

<div id="auth-container">
    <div class="auth-logo">
        <span style="background:var(--accent);color:black;font-size:14px;padding:2px 8px;border-radius:6px">AI</span> 
        Forsale
    </div>
    <p style="color:var(--text-muted);margin-bottom:30px;text-align:center">منصة المستقبل الذكية - مدعومة بـ Pi Network</p>

    <div class="auth-card">
        <h2 style="margin-bottom:20px">تسجيل الدخول الآمن</h2>
        
        <div class="input-group">
            <i class="fa-solid fa-envelope"></i>
            <input type="email" placeholder="البريد الإلكتروني" id="login-email">
        </div>
        
        <div class="input-group">
            <i class="fa-solid fa-lock"></i>
            <input type="password" placeholder="كلمة المرور" id="login-password">
        </div>
        
        <button id="loginBtn" class="primary-btn">تسجيل الدخول</button>

        <p class="switch-link">
            ليس لديك حساب؟ <a href="#" onclick="showRegisterForm()">سجل الآن</a>
        </p>
    </div>

    <div class="auth-card" id="register-form" style="display:none;">
        <h2 style="margin-bottom:20px">إنشاء حساب جديد</h2>
        
        <div class="input-group">
            <i class="fa-solid fa-user"></i>
            <input type="text" placeholder="اسم المستخدم" id="register-username">
        </div>

        <div class="input-group">
            <i class="fa-solid fa-envelope"></i>
            <input type="email" placeholder="البريد الإلكتروني" id="register-email">
        </div>
        
        <div class="input-group">
            <i class="fa-solid fa-lock"></i>
            <input type="password" placeholder="كلمة المرور" id="register-password">
        </div>
        
        <button id="registerBtn" class="primary-btn">تسجيل الحساب</button>

        <p class="switch-link">
            لديك حساب بالفعل؟ <a href="#" onclick="showLoginForm()">تسجيل الدخول</a>
        </p>
    </div>
</div>

<div id="app-container" style="display: none;">
    
    <div class="app-header">
        <div class="header-logo">
            <span style="background:var(--accent);color:black;font-size:14px;padding:2px 8px;border-radius:6px">AI</span> 
            Forsale
        </div>
        <div class="header-actions">
            <div class="icon-btn" onclick="openNotificationsModal()">
                <i class="fa-solid fa-bell"></i>
                <span class="notification-dot" id="notification-dot"></span>
            </div>
            <div class="icon-btn" onclick="openProfileModal()">
                <i class="fa-solid fa-user"></i>
            </div>
        </div>
    </div>

    <div id="home" class="app-content-section active">
        
        <div class="balance-card">
            <div class="balance-info">
                <span class="balance-title">رصيد الحساب (Pi)</span>
                <span class="balance-amount" id="user-balance">0.00 Pi</span>
            </div>
            <div class="balance-actions">
                <button class="action-btn" onclick="openDepositModal()">
                    <i class="fa-solid fa-plus-circle"></i> إيداع
                </button>
                <button class="action-btn" onclick="openWithdrawalModal()">
                    <i class="fa-solid fa-arrow-up-right-from-square"></i> سحب
                </button>
            </div>
        </div>
        
        <div class="card" style="margin-top: 20px; text-align: center; border: 1px solid var(--pi-purple);">
            <h3 style="color: var(--pi-purple);">✅ اختبار الدفع على شبكة Pi</h3>
            <p style="color: var(--text-muted); font-size: 13px;">اضغط على الزر أدناه لمعالجة معاملة "مستخدم إلى تطبيق" بقيمة 1 Pi.</p>
            <button id="testPiPaymentBtn" class="primary-btn" style="background: var(--pi-purple); width: 100%; margin-top: 15px;">
                <i class="fa-solid fa-coins"></i> دفع 1 Pi الآن
            </button>
        </div>
        <div class="category-filters" id="category-filters">
            </div>

        <div id="product-list" class="product-grid">
            </div>
    </div>
    
    <div id="search" class="app-content-section">
        <h2 style="margin-top: 20px;">البحث</h2>
        <div class="input-group">
            <i class="fa-solid fa-search"></i>
            <input type="text" placeholder="ابحث عن منتج، متجر، أو مستخدم..." id="search-input">
        </div>
        <p style="color: var(--text-muted); margin-top: 20px;">ابدأ بالكتابة للعثور على ما تبحث عنه.</p>
    </div>

    <div id="settings" class="app-content-section">
        <h2 style="margin-top: 20px;">الإعدادات</h2>
        <div class="settings-option" onclick="openSellerDashboardModal()">
            <i class="fa-solid fa-store"></i> لوحة تحكم البائع
        </div>
        <div class="settings-option" onclick="alert('جاري فتح إعدادات الأمان...')">
            <i class="fa-solid fa-shield-alt"></i> الأمان والخصوصية
        </div>
        <div class="settings-option" onclick="alert('جاري فتح الإشعارات...')">
            <i class="fa-solid fa-bell"></i> إعدادات الإشعارات
        </div>
        <div class="settings-option" onclick="logout()">
            <i class="fa-solid fa-sign-out-alt"></i> تسجيل الخروج
        </div>
    </div>

    <div id="logyAiModal">
        <div class="logy-chat-header">
            <div class="logo"><span class="ai-badge">AI</span><i class="fa-solid fa-robot"></i> Logy AI Chat</div>
            <div class="icon-btn" onclick="closeLogyAiModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="logy-chat-area" id="logy-chat-area">
            </div>
        <div class="logy-input-bar">
            <input type="text" id="logy-input" placeholder="اطلب من Logy AI مساعدتك في أي شيء..." autofocus>
            <div class="logy-send-btn" onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i></div>
        </div>
    </div>

    <div id="notificationsModal">
        <div class="modal-header">
            <h3>الإشعارات</h3>
            <div class="icon-btn" onclick="closeNotificationsModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="modal-content-area" id="notifications-list">
            <div class="notification-item">
                <div class="notification-icon"><i class="fa-solid fa-check-circle" style="color: var(--success-color);"></i></div>
                <div class="notification-details">
                    <div class="notification-text">تم قبول إدراج منتجك الجديد (Logy Bot 5.0) بنجاح.</div>
                    <div class="notification-time">منذ ساعة واحدة</div>
                </div>
            </div>
            <div class="notification-item">
                <div class="notification-icon"><i class="fa-solid fa-bolt" style="color: var(--primary);"></i></div>
                <div class="notification-details">
                    <div class="notification-text">تهانينا! تم بيع 3 وحدات إضافية من منتجك.</div>
                    <div class="notification-time">منذ 4 ساعات</div>
                </div>
            </div>
            <div class="notification-item">
                <div class="notification-icon"><i class="fa-solid fa-info-circle" style="color: var(--accent);"></i></div>
                <div class="notification-details">
                    <div class="notification-text">تحديث: تم إطلاق ميزة التنبؤات السعرية المدعومة بالذكاء الاصطناعي.</div>
                    <div class="notification-time">منذ يوم واحد</div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="profileModal">
        <div class="modal-header">
            <h3>الملف الشخصي</h3>
            <div class="icon-btn" onclick="closeProfileModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="modal-content-area">
            <div class="profile-card">
                <i class="fa-solid fa-user-circle profile-icon"></i>
                <h4 id="profile-username-display">اسم المستخدم</h4>
                <p id="profile-email-display" class="profile-email">البريد الإلكتروني</p>
            </div>
            
            <div class="settings-list">
                <div class="settings-option" onclick="alert('جاري تحرير المعلومات الشخصية...')">
                    <i class="fa-solid fa-edit"></i> تحرير الملف الشخصي
                </div>
                <div class="settings-option" onclick="alert('جاري تغيير كلمة المرور...')">
                    <i class="fa-solid fa-key"></i> تغيير كلمة المرور
                </div>
                <div class="settings-option" onclick="logout()">
                    <i class="fa-solid fa-sign-out-alt"></i> تسجيل الخروج
                </div>
            </div>
        </div>
    </div>
    
    <div id="ordersModal">
        <div class="modal-header">
            <h3>الطلبات</h3>
            <div class="icon-btn" onclick="closeOrdersModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="modal-content-area" id="orders-list">
             <div class="order-item">
                <div class="order-id">#ORD7432</div>
                <div class="order-details">
                    <span class="order-product">Logy AI Chatbot</span>
                    <span class="order-status completed">مكتمل</span>
                </div>
                <div class="order-date">2025-11-20</div>
            </div>
             <div class="order-item">
                <div class="order-id">#ORD7433</div>
                <div class="order-details">
                    <span class="order-product">محلل بيانات الذكاء الاصطناعي</span>
                    <span class="order-status pending">قيد المعالجة</span>
                </div>
                <div class="order-date">2025-12-05</div>
            </div>
        </div>
    </div>
    
    <div id="depositModal">
        <div class="modal-header">
            <h3>إيداع Pi (محاكاة)</h3>
            <div class="icon-btn" onclick="closeDepositModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="modal-content-area">
            <p style="color: var(--text-muted);">
                في تطبيق حقيقي، سيتم توجيهك هنا لربط محفظة Pi الخاصة بك.
            </p>
            <div class="input-group">
                <i class="fa-solid fa-coins"></i>
                <input type="number" placeholder="المبلغ (Pi)" id="deposit-amount">
            </div>
            <button class="primary-btn" onclick="simulateDeposit()">تأكيد الإيداع</button>
        </div>
    </div>
    
    <div id="withdrawalModal">
        <div class="modal-header">
            <h3>سحب Pi (محاكاة)</h3>
            <div class="icon-btn" onclick="closeWithdrawalModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="modal-content-area">
            <p style="color: var(--text-muted);">
                في تطبيق حقيقي، ستتم هذه العملية عبر واجهة Pi Network API.
            </p>
            <div class="input-group">
                <i class="fa-solid fa-coins"></i>
                <input type="number" placeholder="المبلغ (Pi)" id="withdrawal-amount">
            </div>
            <div class="input-group">
                <i class="fa-solid fa-wallet"></i>
                <input type="text" placeholder="عنوان محفظة Pi" id="withdrawal-address">
            </div>
            <button class="primary-btn" onclick="simulateWithdrawal()">تأكيد السحب</button>
        </div>
    </div>
    
    <div id="sellerDashboardModal">
        <div class="modal-header">
            <h3>لوحة تحكم البائع</h3>
            <div class="icon-btn" onclick="closeSellerDashboardModal()"><i class="fa-solid fa-xmark"></i></div>
        </div>
        <div class="modal-content-area">
            <p style="color: var(--text-muted); margin-bottom: 20px;">
                ملخص أداء المتجر والتحكم في المنتجات والطلبات.
            </p>
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="value">42</div>
                    <div class="label">إجمالي المبيعات</div>
                </div>
                <div class="kpi-card">
                    <div class="value">2,100 Pi</div>
                    <div class="label">إجمالي الأرباح</div>
                </div>
                <div class="kpi-card">
                    <div class="value">95%</div>
                    <div class="label">معدل التقييم</div>
                </div>
            </div>
            
            <h4 style="margin-top: 30px;">منتجاتك المدرجة</h4>
            <div class="listing-item">
                <span class="listing-title">Logy Bot 5.0</span>
                <span class="listing-status active">متاح</span>
                <button class="listing-action-btn" onclick="viewListingDetails(1)">عرض</button>
            </div>
            
            <h4 style="margin-top: 30px;">الطلبات الجديدة</h4>
             <div class="order-item">
                <div class="order-id">#ORD7433</div>
                <div class="order-details">
                    <span class="order-product">محلل بيانات الذكاء الاصطناعي</span>
                    <span class="order-status pending">شحن معلق</span>
                </div>
                <button class="listing-action-btn" onclick="viewOrderShipment(7433)">شحن</button>
            </div>
            
            <button class="primary-btn" style="background: var(--success-color); margin-top: 30px;" onclick="alert('جاري تحويل الأرباح...')">
                <i class="fa-solid fa-hand-holding-dollar"></i> سحب الأرباح الآن
            </button>
        </div>
    </div>
    
    <div class="footer-nav">
        <div class="nav-item active" onclick="showApp('home')">
            <i class="fa-solid fa-house"></i>
            <span>الرئيسية</span>
        </div>
        <div class="nav-item" onclick="openLogyAiModal()">
            <i class="fa-solid fa-robot"></i>
            <span>Logy AI</span>
        </div>
        <div class="nav-item" onclick="openOrdersModal()">
            <i class="fa-solid fa-box"></i>
            <span>الطلبات</span>
        </div>
        <div class="nav-item" onclick="showApp('search')">
            <i class="fa-solid fa-search"></i>
            <span>بحث</span>
        </div>
        <div class="nav-item" onclick="showApp('settings')">
            <i class="fa-solid fa-cog"></i>
            <span>إعدادات</span>
        </div>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>
